# ๐ ะัะพะณะธ ะฝะฐัััะพะนะบะธ HTTPS ะดะปั ะปะพะบะฐะปัะฝะพะณะพ ะทะฐะฟััะบะฐ

## โ ะงัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ

ะัะพะตะบั ะฑัะป ะฟะพะปะฝะพัััั ะฝะฐัััะพะตะฝ ะดะปั ัะฐะฑะพัั ั HTTPS ะบะฐะบ ะฟัะธ ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะต, ัะฐะบ ะธ ะฒ production.

## ๐ ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั

### 1. `nginx.conf` - ะัะฝะพะฒะฝะฐั ะบะพะฝัะธะณััะฐัะธั nginx

**ะะทะผะตะฝะตะฝะธั:**
- โ ะะพะฑะฐะฒะปะตะฝะฐ ะฟะพะปะฝะพัะตะฝะฝะฐั SSL ะบะพะฝัะธะณััะฐัะธั (ะฟะพัั 443)
- โ ะะฐัััะพะตะฝ HTTP ัะตัะฒะตั (ะฟะพัั 80) ั ัะตะดะธัะตะบัะพะผ ะฝะฐ HTTPS
- โ SSL ัะตััะธัะธะบะฐัั: `/etc/nginx/ssl/cert.pem` ะธ `/etc/nginx/ssl/key.pem`
- โ ะฃะผะฝัะน ัะตะดะธัะตะบั ััะธััะฒะฐััะธะน localhost:3017

**ะะพ:**
```nginx
server {
    listen 80;
    listen 443;  # ะะตะท SSL!
    # ...
}
```

**ะะพัะปะต:**
```nginx
# HTTP ัะตัะฒะตั - ัะตะดะธัะตะบั
server {
    listen 80;
    location / {
        return 301 https://$host:3017$request_uri;
    }
}

# HTTPS ัะตัะฒะตั ั SSL
server {
    listen 443 ssl;
    ssl_certificate /etc/nginx/ssl/cert.pem;
    ssl_certificate_key /etc/nginx/ssl/key.pem;
    # ...
}
```

### 2. `frontend/src/shared/config/api.ts` - API ะบะพะฝัะธะณััะฐัะธั ััะพะฝัะตะฝะดะฐ

**ะะทะผะตะฝะตะฝะธั:**
- โ ะะพะปะฝะพัััั ะฟะตัะตะฟะธัะฐะฝะฐ ะปะพะณะธะบะฐ ะพะฟัะตะดะตะปะตะฝะธั API URL
- โ HTTPS ัะตะถะธะผ ะธัะฟะพะปัะทัะตั ะพัะฝะพัะธัะตะปัะฝัะน ะฟััั `/api`
- โ ะะฒัะพะผะฐัะธัะตัะบะธะน ัะตะดะธัะตะบั ั HTTP:3080 ะฝะฐ HTTPS:3017
- โ ะะพะดะดะตัะถะบะฐ ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ ะฑะตะท Docker

**ะะปััะตะฒัะต ะธะทะผะตะฝะตะฝะธั:**
```typescript
// HTTPS ัะตะถะธะผ - ะธัะฟะพะปัะทัะตะผ nginx ะฟัะพะบัะธ
if (protocol === 'https:') {
  return '/api';  // ะัะพะบัะธััะตััั ัะตัะตะท nginx
}

// HTTP ะฝะฐ ะฟะพััั 3080 - ัะตะดะธัะตะบั ะฝะฐ HTTPS
if (port === '3080') {
  window.location.href = `https://localhost:3017${window.location.pathname}`;
  return '/api';
}
```

### 3. `README.md` - ะะฑะฝะพะฒะปะตะฝะฐ ะดะพะบัะผะตะฝัะฐัะธั

**ะะทะผะตะฝะตะฝะธั:**
- โ ะะฑะฝะพะฒะปะตะฝั ะฐะดัะตัะฐ ะปะพะบะฐะปัะฝะพะณะพ ะทะฐะฟััะบะฐ (https://localhost:3017)
- โ ะะพะฑะฐะฒะปะตะฝะฐ ัััะปะบะฐ ะฝะฐ LOCAL_DEPLOYMENT.md
- โ ะะฑะฝะพะฒะปะตะฝะฐ ะฐััะธัะตะบัััะฝะฐั ะดะธะฐะณัะฐะผะผะฐ
- โ ะะพะฑะฐะฒะปะตะฝ ัะฐะทะดะตะป "ะะพะบัะผะตะฝัะฐัะธั" ัะพ ะฒัะตะผะธ ัััะปะบะฐะผะธ

## ๐ ะะพะฒัะต ัะฐะนะปั ะดะพะบัะผะตะฝัะฐัะธะธ

### 1. `QUICKSTART.md` - ะัััััะน ััะฐัั
- ะะฐะฟััะบ ะทะฐ 2 ะผะธะฝััั
- ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั
- ะะฐะบ ะฟัะธะฝััั SSL ัะตััะธัะธะบะฐั

### 2. `LOCAL_DEPLOYMENT.md` - ะะพะปะฝะฐั ะธะฝััััะบัะธั
- ะะตัะฐะปัะฝัะต ะธะฝััััะบัะธะธ ะฟะพ ะปะพะบะฐะปัะฝะพะผั ะทะฐะฟััะบั
- ะกัััะบัััะฐ ะฟะพััะพะฒ
- ะััะธัะตะบัััะฐ
- ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั
- ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### 3. `HTTPS_SETUP.md` - ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั HTTPS
- ะััะธัะตะบัััะฐ HTTPS
- ะะตัะฐะปะธ SSL ัะตััะธัะธะบะฐัะพะฒ
- Nginx ะบะพะฝัะธะณััะฐัะธั
- Frontend API ะปะพะณะธะบะฐ
- ะะพะผะฐะฝะดั ะดะปั ะฟัะพะฒะตัะบะธ SSL

### 4. `TROUBLESHOOTING.md` - ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ
- 10 ัะฐัััั ะฟัะพะฑะปะตะผ ะธ ะธั ัะตัะตะฝะธั
- ะะพะผะฐะฝะดั ะดะปั ะดะธะฐะณะฝะพััะธะบะธ
- ะะฐะบ ะฟัะพะฒะตัะธัั SSL
- ะะพะปะฝะฐั ะฟะตัะตัััะฐะฝะพะฒะบะฐ

### 5. `HTTPS_MIGRATION_SUMMARY.md` - ะญัะพั ัะฐะนะป
- ะัะพะณะธ ะธะทะผะตะฝะตะฝะธะน
- ะกะฟะธัะพะบ ะธะทะผะตะฝะตะฝะฝัั ัะฐะนะปะพะฒ
- ะงัะพ ะฑัะปะพ ะธ ััะพ ััะฐะปะพ

## ๐ ะะพะฒัะต ะฐะดัะตัะฐ ะดะพัััะฟะฐ

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ (Docker Compose):

| ะกัะฐััะน ะฐะดัะตั | ะะพะฒัะน ะฐะดัะตั | ะกัะฐััั |
|--------------|-------------|--------|
| http://localhost:3000 | https://localhost:3017 | โ ะะฐะฑะพัะฐะตั ั HTTPS |
| http://localhost:5001 | https://localhost:3017/api | โ ะงะตัะตะท nginx ะฟัะพะบัะธ |
| - | http://localhost:3080 | โ ะะตะดะธัะตะบัะธั ะฝะฐ HTTPS |

### Production ะฝะต ะธะทะผะตะฝะธะปัั:
- https://gigawin.unicorns-group.ru - ัะฐะฑะพัะฐะตั ะบะฐะบ ัะฐะฝััะต
- https://10.8.0.17:3017 - VPN ะดะพัััะฟ ัะฐะฑะพัะฐะตั ะบะฐะบ ัะฐะฝััะต

## ๐ง ะะพะฝัะธะณััะฐัะธั ะฟะพััะพะฒ Docker

```yaml
nginx:
  ports:
    - "3017:443"  # HTTPS (ะพัะฝะพะฒะฝะพะน)
    - "3080:80"   # HTTP (ัะตะดะธัะตะบั)
```

## ๐ SSL ะกะตััะธัะธะบะฐัั

### ะะฒัะพะผะฐัะธัะตัะบะฐั ะณะตะฝะตัะฐัะธั:
- **Nginx**: ะะตะฝะตัะธััะตััั ะฒ `Dockerfile.nginx`
- **Backend**: ะะตะฝะตัะธััะตััั ะฒ `backend/Dockerfile.ssl`

### ะะฐัะฐะผะตััั ัะตััะธัะธะบะฐัะพะฒ:
- ะขะธะฟ: Self-signed (ัะฐะผะพะฟะพะดะฟะธัะฐะฝะฝัะน)
- ะะปะณะพัะธัะผ: RSA 2048
- ะกัะพะบ: 365 ะดะฝะตะน
- SANs: `gigawin.unicorns-group.ru`, `10.8.0.17`, `localhost`, `127.0.0.1`

## ๐ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

### ะัััััะน ะทะฐะฟััะบ:

```bash
# 1. ะะฐะฟัััะธัะต Docker Compose
docker-compose up -d --build

# 2. ะัะบัะพะนัะต ะฑัะฐัะทะตั
# https://localhost:3017

# 3. ะัะธะผะธัะต ัะฐะผะพะฟะพะดะฟะธัะฐะฝะฝัะน ัะตััะธัะธะบะฐั
# (ัะผ. QUICKSTART.md ะดะปั ะธะฝััััะบัะธะน)
```

### ะัะพะฒะตัะบะฐ ัะฐะฑะพัั:

```bash
# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
docker-compose ps

# ะัะพะฒะตัะบะฐ HTTPS
curl -k https://localhost:3017/api/health

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f
```

## ๐ฏ ะะตัะตะฝะฝัะต ะฟัะพะฑะปะตะผั

### โ ะัะปะพ:
1. Frontend ะพัะบััะฒะฐะปัั ะฟะพ HTTP
2. Backend ัะฐะฑะพัะฐะป ัะพะปัะบะพ ะฝะฐ HTTPS โ ะฝะตัะพะฒะผะตััะธะผะพััั
3. Nginx ะฝะต ะพะฑัะฐะฑะฐััะฒะฐะป SSL
4. CORS ะพัะธะฑะบะธ ะฟัะธ ะพะฑัะฐัะตะฝะธะธ ั HTTP ะบ HTTPS
5. ะะตั ะธะฝััััะบัะธะน ะฟะพ ะปะพะบะฐะปัะฝะพะผั HTTPS ะทะฐะฟััะบั

### โ ะกัะฐะปะพ:
1. Frontend ะพัะบััะฒะฐะตััั ะฟะพ HTTPS
2. Backend ะธ Frontend ะฒะทะฐะธะผะพะดะตะนััะฒััั ัะตัะตะท HTTPS nginx ะฟัะพะบัะธ
3. Nginx ะฟะพะปะฝะพัััั ะฝะฐัััะพะตะฝ ะดะปั SSL ัะตัะผะธะฝะฐัะธะธ
4. ะัะต ะทะฐะฟัะพัั ะธะดัั ัะตัะตะท HTTPS โ ะฝะตั CORS ะฟัะพะฑะปะตะผ
5. ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ HTTPS ะฝะฐัััะพะนะบะต

## ๐ ะััะธัะตะบัััะฐ ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะัะฐัะทะตั                             โ
โ  https://localhost:3017              โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโ
                 โ HTTPS
                 โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Nginx (SSL Termination)             โ
โ  - ะัะธะฝะธะผะฐะตั HTTPS ะฝะฐ 443            โ
โ  - ะัะพะบัะธััะตั /api โ backend:5001    โ
โ  - ะัะพะบัะธััะตั / โ frontend:3000      โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
         โ HTTPS        โ HTTP
         โผ              โผ
โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโ
โ Backend     โ   โ Frontend    โ
โ (HTTPS)     โ   โ (HTTP)      โ
โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโ
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ:
- โ ะัะฟะพะปัะทััััั ัะฐะผะพะฟะพะดะฟะธัะฐะฝะฝัะต ัะตััะธัะธะบะฐัั
- โ Production-like ะพะบััะถะตะฝะธะต
- โ๏ธ ะขัะตะฑัะตััั ะฟัะธะฝััั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต ะฑัะฐัะทะตัะฐ

### Production:
- โ ะะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัั ัะตะฐะปัะฝัะต SSL ัะตััะธัะธะบะฐัั
- โ ะะปะธ ะฟะพะปะฐะณะฐัััั ะฝะฐ ะฒะฝะตัะฝะธะน ะฟัะพะบัะธ (Portainer)
- โ ะัะต ะบะพะผะผัะฝะธะบะฐัะธะธ ัะธััััััั

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

ะัั ะดะพะบัะผะตะฝัะฐัะธั ะฝะฐัะพะดะธััั ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

1. **[QUICKSTART.md](QUICKSTART.md)** - ะะฐัะฝะธัะต ะพัััะดะฐ
2. **[LOCAL_DEPLOYMENT.md](LOCAL_DEPLOYMENT.md)** - ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั
3. **[HTTPS_SETUP.md](HTTPS_SETUP.md)** - ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ
4. **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - ะัะปะธ ััะพ-ัะพ ะฝะต ัะฐะฑะพัะฐะตั
5. **[README.md](README.md)** - ะะฑัะฐั ะธะฝัะพัะผะฐัะธั

## โจ ะงัะพ ะดะฐะปััะต?

1. ะะฐะฟัััะธัะต ะฟัะพะตะบั: `docker-compose up -d`
2. ะัะบัะพะนัะต https://localhost:3017
3. ะัะธะผะธัะต SSL ัะตััะธัะธะบะฐั
4. ะะฐัะฝะธัะต ัะฐะทัะฐะฑะพัะบั! ๐

---

**ะขะตะฟะตัั ะฒะฐั ะฟัะพะตะบั ะฟะพะปะฝะพัััั ะณะพัะพะฒ ะบ ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะต ั HTTPS! ๐๐**

