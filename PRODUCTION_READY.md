# ‚úÖ GigaWin 2025 - Production Ready

## üéØ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –¥–µ–ø–ª–æ—è –≤ Portainer —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π HTTPS.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è –¥–µ–ø–ª–æ—è –≤ Portainer:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Portainer** ‚Üí Stacks ‚Üí Add stack
2. **–ù–∞–∑–≤–∞–Ω–∏–µ:** `gigawin2025`
3. **Repository URL:** `<–≤–∞—à git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>`
4. **Compose path:** `docker-compose.yaml`
5. **–ù–∞–∂–º–∏—Ç–µ:** Deploy the stack
6. **–û–∂–∏–¥–∞–π—Ç–µ:** 5-10 –º–∏–Ω—É—Ç (—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤)
7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** `https://gigawin.unicorns-group.ru`

üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: **[PORTAINER_DEPLOY.md](PORTAINER_DEPLOY.md)**

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
GigaWin2025/
‚îú‚îÄ‚îÄ üîß docker-compose.yaml          # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è Portainer
‚îú‚îÄ‚îÄ üåê nginx.conf                   # HTTPS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üê≥ Dockerfile.nginx             # Nginx —Å SSL
‚îÇ
‚îú‚îÄ‚îÄ üìÇ backend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.ssl              # Backend —Å HTTPS
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.telegram.standalone
‚îÇ   ‚îú‚îÄ‚îÄ app.py                      # Flask API
‚îÇ   ‚îú‚îÄ‚îÄ telegram_bot.py             # Telegram –±–æ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ üìÇ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                  # React SPA
‚îÇ   ‚îú‚îÄ‚îÄ src/shared/config/api.ts   # API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ üìÇ configs/
‚îÇ   ‚îî‚îÄ‚îÄ telegram_config.json        # –ö–æ–Ω—Ñ–∏–≥ –±–æ—Ç–∞
‚îÇ
‚îî‚îÄ‚îÄ üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
    ‚îú‚îÄ‚îÄ PORTAINER_DEPLOY.md         # ‚≠ê –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
    ‚îú‚îÄ‚îÄ DEPLOYMENT.md               # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
    ‚îú‚îÄ‚îÄ CHANGES.md                  # –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ‚îî‚îÄ‚îÄ PRODUCTION_READY.md         # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ HTTPS

```
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç
   ‚Üì
gigawin.unicorns-group.ru (–≤–Ω–µ—à–Ω–∏–π –ø—Ä–æ–∫—Å–∏)
   ‚Üì
VPN: 10.8.0.17:3017
   ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Nginx (HTTPS:443)  ‚îÇ ‚Üê SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì        ‚Üì
    Frontend   Backend API
   (HTTP:3000) (HTTPS:5001) ‚Üê SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
                  ‚Üì
            Telegram Bot
```

---

## üîå –ü–æ—Ä—Ç—ã –∏ –¥–æ—Å—Ç—É–ø

| –ß—Ç–æ | –ê–¥—Ä–µ—Å | –ü–æ—Ä—Ç | –ü—Ä–æ—Ç–æ–∫–æ–ª |
|-----|-------|------|----------|
| **Production** | gigawin.unicorns-group.ru | 443 (—á–µ—Ä–µ–∑ 3017) | HTTPS |
| **VPN** | 10.8.0.17 | 3017 | HTTPS |
| **Redirect** | –ª—é–±–æ–π | 3080‚Üí443 | HTTP‚ÜíHTTPS |

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å–Ω–∞—Ä—É–∂–∏):
- Backend: 5001 (HTTPS)
- Frontend: 3000 (HTTP)

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. Nginx
- ‚úÖ HTTPS –Ω–∞ –ø–æ—Ä—Ç—É 443
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ)
- ‚úÖ Reverse proxy –¥–ª—è backend (/api)
- ‚úÖ Reverse proxy –¥–ª—è frontend (/)
- ‚úÖ CORS headers
- ‚úÖ Health check endpoint

### 2. Backend
- ‚úÖ HTTPS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ CORS –¥–ª—è HTTPS origins
- ‚úÖ Healthcheck endpoint
- ‚úÖ Gunicorn —Å SSL

### 3. Frontend
- ‚úÖ API —á–µ—Ä–µ–∑ nginx (/api)
- ‚úÖ Production build
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è URL
- ‚úÖ –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ HTTPS

### 4. Telegram Bot
- ‚úÖ HTTPS –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ backend
- ‚úÖ SSL verify=False –¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- ‚úÖ Healthcheck

### 5. Docker
- ‚úÖ docker-compose.yaml –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –í—Å–µ Dockerfile –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ Build contexts –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Healthchecks –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ .dockerignore –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ PORTAINER_DEPLOY.md - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ DEPLOYMENT.md - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ CHANGES.md - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ PRODUCTION_READY.md - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# 1. Health check
curl -k https://gigawin.unicorns-group.ru/health
# –û–∂–∏–¥–∞–µ—Ç—Å—è: "healthy"

# 2. API health
curl -k https://gigawin.unicorns-group.ru/api/health
# –û–∂–∏–¥–∞–µ—Ç—Å—è: JSON —Å status "healthy"

# 3. Frontend
curl -k https://gigawin.unicorns-group.ru/
# –û–∂–∏–¥–∞–µ—Ç—Å—è: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞

# 4. VPN –∞–¥—Ä–µ—Å
curl -k https://10.8.0.17:3017/health
# –û–∂–∏–¥–∞–µ—Ç—Å—è: "healthy"
```

### –í –±—Ä–∞—É–∑–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://gigawin.unicorns-group.ru`
2. –ü—Ä–∏–º–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç)
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Portainer

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
- ‚úÖ `gigawin-nginx` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∑–µ–ª–µ–Ω—ã–º**
- ‚úÖ `gigawin-backend` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∑–µ–ª–µ–Ω—ã–º**
- ‚úÖ `gigawin-frontend` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∑–µ–ª–µ–Ω—ã–º**
- ‚úÖ `gigawin-telegram-bot` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∑–µ–ª–µ–Ω—ã–º**

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ Portainer
2. –ù–∞–∂–º–∏—Ç–µ "Logs"
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—à–∏–±–æ–∫

### Healthcheck:
–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å "healthy" —á–µ—Ä–µ–∑ 30-60 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞.

---

## üõ†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: Portainer ‚Üí Container ‚Üí Logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã: `netstat -tulpn | grep -E '3017|3080'`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ volumes: `docker volume ls`

### –ü—Ä–æ–±–ª–µ–º–∞: 502 Bad Gateway
**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∏ frontend –∑–∞–ø—É—â–µ–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ healthcheck: `docker ps | grep healthy`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ nginx: `docker logs gigawin-nginx`

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS origins –≤ –ª–æ–≥–∞—Ö backend
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–º–∏ origins
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:**
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤. –í –±—Ä–∞—É–∑–µ—Ä–µ:
- Chrome/Edge: "Advanced" ‚Üí "Proceed to site"
- Firefox: "Advanced" ‚Üí "Accept the Risk"

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Portainer:
1. Stacks ‚Üí `gigawin2025`
2. "Update the stack"
3. "Re-pull image and redeploy"
4. "Update"

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Git:
1. Push –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. Portainer: "Pull and redeploy"

---

## üìù –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- `docker-compose.yaml` - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –¥–µ–ø–ª–æ—è
- `nginx.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- `backend/app.py` - CORS –∏ API endpoints
- `frontend/src/shared/config/api.ts` - URL API
- `configs/telegram_config.json` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞

### Dockerfile:
- `Dockerfile.nginx` - Nginx —Å SSL
- `backend/Dockerfile.ssl` - Backend —Å SSL
- `backend/Dockerfile.telegram.standalone` - Telegram bot
- `frontend/Dockerfile` - Frontend React

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **PORTAINER_DEPLOY.md** ‚≠ê - –Ω–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞
- DEPLOYMENT.md - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
- CHANGES.md - —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ HTTPS  
‚úÖ **–†–µ–¥–∏—Ä–µ–∫—Ç:** HTTP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Üí HTTPS  
‚úÖ **CORS:** Whitelist —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö origins  
‚úÖ **SSL:** –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö  
‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–µ—Ç–∏  
‚úÖ **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** Volumes –¥–ª—è –¥–∞–Ω–Ω—ã—Ö  

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:
- üöÄ [–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π](PORTAINER_DEPLOY.md)
- üìñ [–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](DEPLOYMENT.md)
- üìù [–°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π](CHANGES.md)

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å healthcheck
3. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ TROUBLESHOOTING –≤ DEPLOYMENT.md

---

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ production –¥–µ–ø–ª–æ—é.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û—Ç–∫—Ä–æ–π—Ç–µ [PORTAINER_DEPLOY.md](PORTAINER_DEPLOY.md) –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.

---

**–î–∞—Ç–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:** 3 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0 Production Ready  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –≤ Portainer

